!Job
target: !Target
  head: 25e0dd488ab60417f8f453f648e6ecfeb058f01e
  email: unknown
  branch: master
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 9.0.0.dev172
  no_rc_version: 9.0.0.dev172
  no_rc_semver_version: 9.0.0-dev172
tasks:
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2022-06-05-0-azure-test-r-minimal-build
    commit: cd44578e70c934a668976c1455cc2fe8aff19904
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: nightly-tests-2022-06-05-0-azure-test-r-linux-valgrind
    commit: c23b2918a30c251ded31361a2d4990d9d22eba4e
  test-conda-python-3.8: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
      image: conda-python
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.8
    commit: fc79e26d5c11885da0d75fe38fb487b871ba4d83
  test-conda-python-3.7-pandas-0.24: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: '0.24'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-pandas-0.24
    commit: 6550e03f34c9f00bf2e5a37bbe2f1a5c0ddf9829
  test-conda-python-3.8-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.8-pandas-latest
    commit: d5d375d7f1b84731b93a4b18d6e8713236b46854
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 56b8d44610d1c7fe7b67c36b99241d189512f799
  test-conda-python-3.9-dask-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: master
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

# Turbodbc is currently failing to build. See:
# https://issues.apache.org/jira/browse/ARROW-15997
# #   test-conda-python-3.7-turbodbc-latest:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: latest
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# #   test-conda-python-3.7-turbodbc-master:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: master
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# 
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.9-dask-master
    commit: 7c64ca5077a5670bef72eeceef0c30404d5cdaef
  test-r-ubuntu-22.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-05-0-github-test-r-ubuntu-22.04
    commit: d99b178b69883e78136e7f52f7435640f53f90a9
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2022-06-05-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: 6d8c8f3759247f7ea2d2648d5ad46f082a092e05
  test-conda-python-3.8-spark-v3.2.0: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.2.0
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.8-spark-v3.2.0
    commit: 0cdfa16a3784202e05ce885b0476e42495123323
  test-ubuntu-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-c-glib
    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-c-glib
    commit: e3b0c67d57afb7ea7e0843678344cd3241bf15ad
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2022-06-05-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: 91de702576b6a01b50645ed4698f8ff3fa05e99d
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-r-offline-maximal
    commit: 860dc8e28877fbee30fc163e443accaf78687c53
  test-conda-cpp-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2022-06-05-0-azure-test-conda-cpp-valgrind
    commit: 727868d46d4b7b39423492e322a1f62e4561e826
  test-r-gcc-12: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-05-0-github-test-r-gcc-12
    commit: 11cee640a65d6deee4243282055d8f6704b7f743
  test-ubuntu-22.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-22.04-cpp
    commit: 8d20ec3de5e8eb178dfd846a3eadb9cab775b466
  test-conda-python-3.7-kartothek-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: latest
      flags: --no-leaf-cache
      image: conda-python-kartothek
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-kartothek-latest
    commit: efafcedcb32719dce88ccdec0e1bebef2c463a63
  test-skyhook-integration: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-05-0-github-test-skyhook-integration
    commit: d2dc417b7aa1cb1a47215218b60e270640b88aa3
  test-ubuntu-20.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-20.04-cpp
    commit: 1196a227489f0b3e90ce3b49752172591bb05a3d
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2022-06-05-0-github-test-r-linux-as-cran
    commit: ea62a116ee589d855897a78dd5a43f93786c82ab
  test-conda-python-3.7-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-pandas-latest
    commit: ccef96c14bb07059a2cb1f151b400cde89f6d372
  test-debian-11-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2022-06-05-0-azure-test-debian-11-python-3
    commit: b7c2c5257b6e7bbdd3dfa88000e9466cf19cf1a3
  example-python-minimal-build-ubuntu-venv: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################## Conda Linux ############################

    branch: nightly-tests-2022-06-05-0-github-example-python-minimal-build-ubuntu-venv
    commit: 7a623b3c720aeebebc32b9e2df80772ce34d391c
  test-ubuntu-default-docs: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      artifacts: build/docs.tar.gz
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      post_script: |
        cd build
        sudo chown -R ${USER}: .
        tar cvzf docs.tar.gz docs
    branch: nightly-tests-2022-06-05-0-azure-test-ubuntu-default-docs
    commit: e3b735cd9d0144a563ffd81cdee6bbf4ca7289b8
  example-cpp-minimal-build-static-system-dependency: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency
    branch: nightly-tests-2022-06-05-0-github-example-cpp-minimal-build-static-system-dependency
    commit: aad77907930194b0e7e5d86a6611c419a0e23902
  test-build-cpp-fuzz: !Task
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-build-cpp-fuzz
    commit: 24e217200ee7d1f9ffd61addc235050fe3ae4741
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-r-arrow-backwards-compatibility
    commit: ea18c611f3882ebd731d6f1e56ec334551238fea
  test-debian-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-ruby
    branch: nightly-tests-2022-06-05-0-github-test-debian-ruby
    commit: e6a6c6c687a4dce7b069f4dce16d40cc0f5e66db
  test-r-dev-duckdb: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-05-0-github-test-r-dev-duckdb
    commit: 4a3a9d8d00ef24f06eae7c6ff8e63c5e9e20da87
  test-ubuntu-18.04-cpp-static: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_SHARED=OFF -e ARROW_BUILD_STATIC=ON -e ARROW_TEST_LINKAGE=static
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-18.04-cpp-static
    commit: 5245ded64258ca7d7a0173e00538abcfdee8c5cb
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-05-0-github-test-r-depsource-system
    commit: fea7aeff19af8de0fa924da163897b9ddb769a4c
  test-conda-python-3.9-spark-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

  # Remove the "skipped-" prefix in ARROW-8475
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.9-spark-master
    commit: 41ec8a5b765e8cc03f681c080346d906120e85f4
  test-ubuntu-20.04-cpp-bundled: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-20.04-cpp-bundled
    commit: e0afb7d14a094d5a2e61c975f9c41e5f66af7a0e
  test-fedora-35-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-cpp

    branch: nightly-tests-2022-06-05-0-github-test-fedora-35-cpp
    commit: df81d6692ac2530ac3a26b580555d23b52591273
  test-debian-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-c-glib
    branch: nightly-tests-2022-06-05-0-github-test-debian-c-glib
    commit: 31ac1f38774e78a7cfbbc6b6df8c9f7a341a9c68
  test-ubuntu-18.04-cpp-release: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_TYPE=release
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-18.04-cpp-release
    commit: d39e761ab493cc99247c0e02e4bc7c63ca0da793
  test-r-rstudio-r-base-4.2-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2022-06-05-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: b687eb7c2a1ce5e72f99e8f6cd9ebec3826e6899
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2022-06-05-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: e415ca4a25bdb9aa9ca1fbbb72603f2aa82e5575
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2022-06-05-0-azure-test-ubuntu-18.04-r-sanitizer
    commit: fab8f2d3211c98893f6cdf5d946499e2605031f0
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-05-0-github-test-r-gcc-11
    commit: 9a79f0d0185b57391dde644f5e32439f39f2ce38
  test-conda-python-3.9: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
      image: conda-python
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.9
    commit: 7a2d9e88adad802208c75dd5376bfd731791fd82
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: nightly-tests-2022-06-05-0-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: d0418a1fc8f878081c718b956f12372e9e78a6f3
  test-conda-python-3.9-pandas-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: master
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.9-pandas-master
    commit: 26f45cea3403a1cd3b92c74dd9f79a0390a43df5
  test-conda-python-3.7: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
      image: conda-python
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7
    commit: d88d108a9c2ab3988c54a49fad20bbd38a2ab981
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2022-06-05-0-azure-test-fedora-r-clang-sanitizer
    commit: 42746ef557ef5d84518f151d1746539b348fb6ac
  test-conda-python-3.8-pandas-nightly: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.8-pandas-nightly
    commit: 21c81f1878fc0d784af030fa65a70157610f8bbc
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-r-linux-rchk
    commit: 193c99bec5837cdbcc5858d3dd556c65a3d9019a
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-r-install-local
    commit: 4102374efd65b398a014a8ee4afbb2fde6191feb
  test-conda-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: conda-cpp
    branch: nightly-tests-2022-06-05-0-github-test-conda-cpp
    commit: 3ebdf2dabd6eeaa64db1163094c825f4baa05f17
  test-ubuntu-20.04-cpp-14: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=14
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-20.04-cpp-14
    commit: 9af757b04a664d26437aebf22deff0e50a485613
  test-build-vcpkg-win: !Task
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-build-vcpkg-win
    commit: 5eb8c59b861708f508abcdb68c2cdcfdb157cda8
  test-r-rstudio-r-base-4.2-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2022-06-05-0-azure-test-r-rstudio-r-base-4.2-opensuse42
    commit: 66c774f2730ff193813c555514767380a375ab69
  test-debian-11-go-1.16: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: 1.16
      image: debian-go

    branch: nightly-tests-2022-06-05-0-azure-test-debian-11-go-1.16
    commit: ae5345c59a3a955408b4478d2232d4855e0951f7
  example-python-minimal-build-fedora-conda: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2022-06-05-0-github-example-python-minimal-build-fedora-conda
    commit: 37a535a0b3ec363a7f147e45b05213033d7da797
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-05-0-github-test-r-devdocs
    commit: f238feee2e27b36271ebc5c5dcc76447ddf5fa72
  test-debian-10-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '10'
      image: debian-cpp

    branch: nightly-tests-2022-06-05-0-github-test-debian-10-cpp-amd64
    commit: b8ed2266ba687be2b1f4358425ae8d77e76b1dfb
  test-conda-python-3.10: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python

    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.10
    commit: b5cb70ff32d1215e2399b47595b83964b3d1f0d1
  test-fedora-35-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-python

    branch: nightly-tests-2022-06-05-0-azure-test-fedora-35-python-3
    commit: 615b75c8d07629ec5ad8856b156e9c1ccc05cc43
  test-ubuntu-18.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '18.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-18.04-cpp
    commit: 06b5fd3e0efb2f9388f79082247bcfd6a9c1acee
  test-debian-10-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '10'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp
    branch: nightly-tests-2022-06-05-0-github-test-debian-10-cpp-i386
    commit: 774814f29e6578f7f372745c495586dfaf3283d3
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2022-06-05-0-azure-test-r-rocker-r-base-latest
    commit: 7becccde002beeec3351680bdfdafd2f137cd140
  test-debian-11-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2022-06-05-0-github-test-debian-11-cpp-amd64
    commit: 8feebe0dc41406152c89a1fa708407ef9e91bc54
  test-ubuntu-20.04-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2022-06-05-0-azure-test-ubuntu-20.04-python-3
    commit: 01b4265534c6da2a6f463023c7ed290684337299
  test-conda-python-3.7-hdfs-3.2.1: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-hdfs-3.2.1
    commit: 626dad90962215fbe103c08d3480edd7dad65fbf
  example-cpp-minimal-build-static: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2022-06-05-0-github-example-cpp-minimal-build-static
    commit: 6fa786a7160e1a6c5005c4073acd482956faf7e0
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2022-06-05-0-azure-test-r-offline-minimal
    commit: b40a0d11d647221d3deb9a61316cb401702ddf8f
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2022-06-05-0-github-test-r-versions
    commit: 24afc92763afadf6341eb3cf609533934a4294e1
  test-debian-11-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2022-06-05-0-github-test-debian-11-cpp-i386
    commit: 1cb3e9be08f30733781f463f68e50b7a28892588
  test-ubuntu-20.04-cpp-17: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=17
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-20.04-cpp-17
    commit: 9ebab335b4423cc9d0c9d61e0c48a96dc7007c51
  test-conda-python-3.7-spark-v3.1.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        SPARK: v3.1.2
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-spark-v3.1.2
    commit: 7e69801801f3ef800777c91756fa07d7ac6566bc
  test-conda-python-3.8-hypothesis: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.8
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis
      image: conda-python-pandas

    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.8-hypothesis
    commit: f157d112d0cdd12bd94be3e68e635dff010f3eb7
  test-conda-python-3.9-dask-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.9-dask-latest
    commit: 83b299579e4f3677675776f38c42d520a2dfa312
  test-conda-python-3.7-kartothek-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: master
      flags: --no-leaf-cache
      image: conda-python-kartothek

    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-kartothek-master
    commit: 104e3060dbdaba12fcca7e0f50f29554b7465a66
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2022-06-05-0-azure-test-r-depsource-bundled
    commit: 6aa7fa9da5c989d42902beea6f6dc3cc126b2706
  test-conda-python-3.7-hdfs-2.9.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2022-06-05-0-github-test-conda-python-3.7-hdfs-2.9.2
    commit: 13b845546231c188bd6eb5b5ada084aaca649925
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2022-06-05-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 939376b62229c5c3898fe0e71b26a267b3370e36
  test-ubuntu-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2022-06-05-0-github-test-ubuntu-ruby
    commit: 1cdf8f2f98ecfc320622b7edf25531cb693ba99f
params: {}
branch: nightly-tests-2022-06-05-0

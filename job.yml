!Job
target: !Target
  head: 7d30abed68df0fd1e273e7ad6470e874264292a6
  email: unknown
  branch: master
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 9.0.0.dev280
  no_rc_version: 9.0.0.dev280
  no_rc_semver_version: 9.0.0-dev280
tasks:
  test-ubuntu-20.04-cpp-bundled: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-20.04-cpp-bundled
    commit: 302f20e303bcf94129be3f84cde778d0c7cb02c3
  test-debian-11-go-1.16: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: 1.16
      image: debian-go

    branch: nightly-tests-2022-06-29-0-azure-test-debian-11-go-1.16
    commit: 5adc4f909e5d8e63586b87851925773812d29018
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e ARROW_GCS=OFF -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-29-0-github-test-r-depsource-system
    commit: 5e76e37bb2cb5f0e5223098c922748d1f634ee7e
  test-debian-10-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '10'
      image: debian-cpp

    branch: nightly-tests-2022-06-29-0-github-test-debian-10-cpp-amd64
    commit: 1e0a38749cc60ca38997048092881a48df964902
  test-debian-11-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2022-06-29-0-github-test-debian-11-cpp-amd64
    commit: 0682fbfa6a001e219674ffdc4ea4e755d3ef7394
  test-build-cpp-fuzz: !Task
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-build-cpp-fuzz
    commit: 006b01f957ee9b5c483e2c488f31ca112197b7e5
  test-conda-python-3.10: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.10
    commit: c65d288019afc615b3d2035dd717e18d3cf70c71
  test-conda-python-3.8-spark-v3.2.0: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.2.0
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.8-spark-v3.2.0
    commit: 956ae8bb9740c24316ef2e69bea6533782affccd
  test-conda-python-3.7-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-pandas-latest
    commit: 57a1fd9db8161b4e806e2c20da0d5387b2bfdcbd
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2022-06-29-0-azure-test-r-rocker-r-base-latest
    commit: fb4c7fa78faea43bf71e5ba0b1afe8508e9347ff
  test-conda-python-3.9-pandas-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: master
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.9-pandas-master
    commit: 89e3e2a741225da607fcd1e6f636a91bea7a4ca1
  test-ubuntu-20.04-cpp-14: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=14
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-20.04-cpp-14
    commit: cb930f81bd0069411cc943f1e3611f4156323ad0
  test-debian-11-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2022-06-29-0-github-test-debian-11-cpp-i386
    commit: 90fa7043bd75442747fe4c329befb4c66fc57d7e
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2022-06-29-0-github-test-r-linux-as-cran
    commit: 9f2ca9a805bbf7edfddbc0c9520697ec377c9dec
  test-r-rstudio-r-base-4.2-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2022-06-29-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: 29c1d65d34352e96673edec0aa38dcd851169ed5
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2022-06-29-0-azure-test-ubuntu-18.04-r-sanitizer
    commit: 1cadd654ca3d5784c85140d88169d55d7246aa2c
  test-conda-python-3.8-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.8-pandas-latest
    commit: 1c9700e40e9d524fcbf31571fc589cf85783cc10
  test-ubuntu-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-ruby
    commit: e20fbfff3193b8887272a0bc137fefaa0ceb49db
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2022-06-29-0-azure-test-fedora-r-clang-sanitizer
    commit: 37f7da279d47442adfa0cfd18cd013ac735b1439
  example-python-minimal-build-fedora-conda: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2022-06-29-0-github-example-python-minimal-build-fedora-conda
    commit: 3785d3f1529defe6c4b4f80a6e7c6eb0fb5e58eb
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-r-devdocs
    commit: ee6535278855e2fb09f088c2805b9b3223c6c634
  test-build-vcpkg-win: !Task
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-build-vcpkg-win
    commit: f6c8a5ca892740d4f8c0a81283a0605421e80f2d
  test-ubuntu-20.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-20.04-cpp
    commit: a32c9069af2766e066aad3b8f3212790aae6f917
  test-ubuntu-18.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '18.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-18.04-cpp
    commit: a2070a7cc66ce7256e3628a9e740224c450aeeae
  test-debian-11-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2022-06-29-0-azure-test-debian-11-python-3
    commit: 15ae02f610cb95b0318cc63cafdc7911b1856080
  test-ubuntu-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-c-glib
    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-c-glib
    commit: 0cf1b2902bae0982172795ab25288b446c100451
  test-debian-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-ruby
    branch: nightly-tests-2022-06-29-0-github-test-debian-ruby
    commit: befb8390c8b7e32db29cd0678c01adb0ecf7f41d
  test-conda-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: conda-cpp
    branch: nightly-tests-2022-06-29-0-github-test-conda-cpp
    commit: c32bc286d236af9456834b4fa5a76d166234d8c7
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2022-06-29-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: 2a9235ccc7c9402044680ce172051d31814b7476
  test-conda-python-3.9-dask-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.9-dask-latest
    commit: 2068e6bee055e01face29d9f87f4e427573e1da4
  test-ubuntu-18.04-cpp-release: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_TYPE=release
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-18.04-cpp-release
    commit: 2d033aad48854e36cdc24d536a21b89e8696a3a8
  example-cpp-minimal-build-static: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2022-06-29-0-github-example-cpp-minimal-build-static
    commit: 6b24174be0a2d670e3ce200a71c4debca8da57e3
  test-skyhook-integration: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-29-0-github-test-skyhook-integration
    commit: 789d9795f3879266a9dd5a7dfeb6465623f40280
  test-conda-python-3.8: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
      image: conda-python
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.8
    commit: 1a0ed729e551413c9085a2b6f7325617d29adcca
  test-fedora-35-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-python

    branch: nightly-tests-2022-06-29-0-azure-test-fedora-35-python-3
    commit: 98384aae308e34bbf807a229929725831924b214
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-r-arrow-backwards-compatibility
    commit: d0b89b7ece9ad3d95c920b46250e8f880490f670
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2022-06-29-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: d1b467e357e297f243202d34ca57cf964288cf82
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: nightly-tests-2022-06-29-0-azure-test-r-linux-valgrind
    commit: eaf81f363ba3a4b5ea97dfc3200fb624822c90e0
  example-cpp-minimal-build-static-system-dependency: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency
    branch: nightly-tests-2022-06-29-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 9cd7b8a62f09c473aa5f45e06ef824e08e433c7e
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2022-06-29-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: 44f109782507a570f0ba63dede4c13513b535c25
  test-fedora-35-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-cpp

    branch: nightly-tests-2022-06-29-0-github-test-fedora-35-cpp
    commit: f1e845e26abd536ed8dbc1fdcf0d35bd16ef8e44
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-r-linux-rchk
    commit: e920c7d15aa778d922c698121878e295b51b0960
  test-ubuntu-20.04-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2022-06-29-0-azure-test-ubuntu-20.04-python-3
    commit: a5172c84acfd69a86a9197e0fc4baaf3a98df2f9
  test-conda-python-3.7: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
      image: conda-python
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7
    commit: c4a2fdd69c2b16f6e490ab53b03b2fcb50dd532b
  test-conda-python-3.7-spark-v3.1.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        SPARK: v3.1.2
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-spark-v3.1.2
    commit: 2cf74e33563c38dab6551b94d0391dec334c9f25
  test-conda-python-3.9: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
      image: conda-python
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.9
    commit: 352b579ee44d5a4590f25eaa5a8f0c198f75af77
  test-r-gcc-12: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-29-0-github-test-r-gcc-12
    commit: 1fe80833634e34e73c50a99a4201ae7ac1bc9e0a
  test-r-ubuntu-22.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-29-0-github-test-r-ubuntu-22.04
    commit: 438a83e319467330f307d6252215330851b80cbe
  test-conda-python-3.8-pandas-nightly: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.8-pandas-nightly
    commit: 21f3ea4c5011c411adc84a2935c8dc11720fc9c5
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-29-0-github-test-r-gcc-11
    commit: 3faff6fe9d321e2b3cc2f03881673b7802cbc893
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2022-06-29-0-github-test-r-versions
    commit: 20ba69f6e929cf9b5140e1f43a7c7aa25a9ea05f
  test-debian-10-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '10'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp
    branch: nightly-tests-2022-06-29-0-github-test-debian-10-cpp-i386
    commit: be7eb1877e2ecbb6d5bf1f652c8c73bedd57b53e
  test-conda-python-3.7-kartothek-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: master
      flags: --no-leaf-cache
      image: conda-python-kartothek

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-kartothek-master
    commit: f77f78bdf0a6cee570b22ac627330da8a0daf5e3
  test-ubuntu-22.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-22.04-cpp
    commit: 29259a88603e872f1cbc30852a6f2fa43743abe0
  test-conda-python-3.7-kartothek-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: latest
      flags: --no-leaf-cache
      image: conda-python-kartothek
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-kartothek-latest
    commit: 08be1054ee66e2fe046796c13f001fef872ba7c4
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 2ed76cc923d10c265a8cb7c83adb491a4c209238
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2022-06-29-0-azure-test-r-minimal-build
    commit: 7a144d57fba885c9c0cf78dc25ed8e14bc95b239
  test-conda-python-3.7-hdfs-2.9.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-hdfs-2.9.2
    commit: dfcaab0584ba2e30fec149854604067a31ae85c8
  test-debian-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-c-glib
    branch: nightly-tests-2022-06-29-0-github-test-debian-c-glib
    commit: 1a7eca59b2f7e887b3ff1006bd435ca304993cb4
  test-conda-python-3.9-spark-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.9-spark-master
    commit: 43cea63642ed73b5cdabb7d347a9810c0076a650
  test-conda-python-3.7-pandas-0.24: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: '0.24'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-pandas-0.24
    commit: d59a287e3b365a052dee4cec6745e51f06630100
  test-conda-python-3.8-hypothesis: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.8
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis
      image: conda-python-pandas

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.8-hypothesis
    commit: 51627ecbd4361957df1615d86b47ec93b095c8d6
  test-r-dev-duckdb: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-29-0-github-test-r-dev-duckdb
    commit: ae68ced208a8d94f6e71d617ef7a17354c7c8b94
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2022-06-29-0-azure-test-r-offline-minimal
    commit: 05705464f36e606aa5a1452855cd99ff7e669d4e
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2022-06-29-0-azure-test-r-depsource-bundled
    commit: 94f30c4c19dfb29775078c0a949ea38ac1a8de53
  test-ubuntu-20.04-cpp-17: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=17
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-20.04-cpp-17
    commit: f74b033759426b4bffd8dcf241c3e0b54c5a402d
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-r-install-local
    commit: 07ea77d734ae9c26281069e621b63fbbcc9be8f0
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-29-0-github-test-r-offline-maximal
    commit: 33ab8134338fe8afc26789e8642bcc3a404c62ef
  test-ubuntu-18.04-cpp-static: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_SHARED=OFF -e ARROW_BUILD_STATIC=ON -e ARROW_TEST_LINKAGE=static
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-29-0-github-test-ubuntu-18.04-cpp-static
    commit: 09aa252f828c9bfd061092f23f42a38348af1065
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2022-06-29-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: a8b936aa7b1c238dcfb4edd1ecf401aabdbdde80
  test-conda-python-3.9-dask-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: master
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

# Turbodbc is currently failing to build. See:
# https://issues.apache.org/jira/browse/ARROW-15997
# #   test-conda-python-3.7-turbodbc-latest:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: latest
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# #   test-conda-python-3.7-turbodbc-master:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: master
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# 
    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.9-dask-master
    commit: 4861920d7959d11f31f345c6314ea24c7a6d9e4f
  test-ubuntu-default-docs: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      artifacts: build/docs.tar.gz
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      post_script: |
        cd build
        sudo chown -R ${USER}: .
        tar cvzf docs.tar.gz docs
    branch: nightly-tests-2022-06-29-0-azure-test-ubuntu-default-docs
    commit: a88e8e729d6cd2d1c0df035d300182a6fa55af61
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2022-06-29-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: bcceb262ad6ca73565eec43e4fdd726bbdc31b94
  test-conda-python-3.7-hdfs-3.2.1: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2022-06-29-0-github-test-conda-python-3.7-hdfs-3.2.1
    commit: 4b56f7317c0003759c04da3b8ed39bdb88846c57
  test-conda-cpp-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2022-06-29-0-azure-test-conda-cpp-valgrind
    commit: e2e2a4f553eee3cd992c1020226f9df81f3644b0
  example-python-minimal-build-ubuntu-venv: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################## Conda Linux ############################

    branch: nightly-tests-2022-06-29-0-github-example-python-minimal-build-ubuntu-venv
    commit: fbc7f3f36e3ff5bc1ca034dc45ac790879f4849c
params: {}
branch: nightly-tests-2022-06-29-0

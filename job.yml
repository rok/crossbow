!Job
target: !Target
  head: 6fd4d3423e3f0d597fac547ee74f4ccba2812c8a
  email: unknown
  branch: master
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 9.0.0.dev258
  no_rc_version: 9.0.0.dev258
  no_rc_semver_version: 9.0.0-dev258
tasks:
  test-conda-python-3.7-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-pandas-latest
    commit: 073e4018d0b1220e205dc9e1edab405465522578
  test-conda-python-3.8-pandas-nightly: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.8-pandas-nightly
    commit: 78d77ecfa2f04937077e8b5ccd37b1d6a8196e98
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2022-06-23-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: 1ca85d79f44cebfd53ed0682b611b30bdca20735
  test-debian-11-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2022-06-23-0-azure-test-debian-11-python-3
    commit: 5e0928f5d685ca163435a75fa693e7ea79897c52
  test-conda-python-3.9: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
      image: conda-python
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.9
    commit: 8c9489ab465fd526de2027806e295d4705552ade
  test-ubuntu-22.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-22.04-cpp
    commit: f6f017bb7a211b4887321cf70198de9b60326eb6
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2022-06-23-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: adf75f4bec3ce08b723e7a6f92c837d1b8c65376
  test-conda-python-3.9-dask-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.9-dask-latest
    commit: 397b368275b02d52096bb8945d1122e6a1907964
  test-conda-python-3.9-pandas-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: master
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.9-pandas-master
    commit: efff2c88aac62e2dcbc6affa68fe5e1b2351b993
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-r-devdocs
    commit: 410ff2b3543b48b9729b87c7c9e345f8ba7d2ff9
  test-debian-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-c-glib
    branch: nightly-tests-2022-06-23-0-github-test-debian-c-glib
    commit: e044b8638aeb6ce5d5063ea8185ace26586aa100
  test-conda-python-3.8: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
      image: conda-python
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.8
    commit: 5ee3a352774ed977759c0e19639a9cf188161635
  test-conda-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: conda-cpp
    branch: nightly-tests-2022-06-23-0-github-test-conda-cpp
    commit: 408fd95145c33de36ca9ab6237ca0af32e277fac
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-23-0-github-test-r-depsource-system
    commit: 6931ad83facc500cfd685b4fc5ef4ad1ee9b2f2b
  test-build-vcpkg-win: !Task
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-build-vcpkg-win
    commit: 112c3364f55022f125e68448b752a7ae9c127b4d
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2022-06-23-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: cee0778e47f2cccc87c68084ee9bed7d9d21157a
  test-debian-11-go-1.16: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: 1.16
      image: debian-go

    branch: nightly-tests-2022-06-23-0-azure-test-debian-11-go-1.16
    commit: 3e6cda08f36740976320bda95de934f3d4eac280
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2022-06-23-0-github-test-r-linux-as-cran
    commit: cc22e2e0fd5924bf04f503b13a879727bb454b51
  test-debian-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-ruby
    branch: nightly-tests-2022-06-23-0-github-test-debian-ruby
    commit: 69bb55d8ddc18a26c2080728372619a473467609
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2022-06-23-0-azure-test-ubuntu-18.04-r-sanitizer
    commit: 269e082082438b21759675c932ae4455e31b852d
  test-conda-python-3.8-hypothesis: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.8
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis
      image: conda-python-pandas

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.8-hypothesis
    commit: a3858d6a7473a0d493297fb122acc035abf9dd89
  test-ubuntu-default-docs: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      artifacts: build/docs.tar.gz
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      post_script: |
        cd build
        sudo chown -R ${USER}: .
        tar cvzf docs.tar.gz docs
    branch: nightly-tests-2022-06-23-0-azure-test-ubuntu-default-docs
    commit: 1c4418abbfe5c01667ab068086a2a27c6515af13
  test-ubuntu-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-ruby
    commit: 8011471c409f17263de559aeabf04072eba3fe14
  test-conda-cpp-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2022-06-23-0-azure-test-conda-cpp-valgrind
    commit: 1870d3aff0d307c86c8f02134a61b0f0531bc1c1
  test-ubuntu-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-c-glib
    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-c-glib
    commit: 34067248ab65318db0f99ad2ab41cdcc901a6c8c
  test-conda-python-3.7-spark-v3.1.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        SPARK: v3.1.2
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-spark-v3.1.2
    commit: 95867c7e7c9de5c4d60b2ea215c8cf696eb2a713
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: nightly-tests-2022-06-23-0-azure-test-r-linux-valgrind
    commit: 327bdebf8f1ed903d96959c036cad9a8aa14bc3f
  test-conda-python-3.7-hdfs-3.2.1: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-hdfs-3.2.1
    commit: b50d6ee0acf592ede99edd684a5f952c5fbe8219
  test-r-gcc-12: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-23-0-github-test-r-gcc-12
    commit: f8e3b354d4fa659c20c02535855e3086522e369a
  test-fedora-35-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-python

    branch: nightly-tests-2022-06-23-0-azure-test-fedora-35-python-3
    commit: 7ff08dcab0d28ce91765350d4cac0484796eb186
  test-ubuntu-20.04-cpp-14: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=14
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-20.04-cpp-14
    commit: f465bbf2b7064cb0fa4c87664943d888b7da9c5c
  example-python-minimal-build-fedora-conda: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2022-06-23-0-github-example-python-minimal-build-fedora-conda
    commit: fb1eed98e45275bbed4a6eff1f494882a9ced751
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-r-offline-maximal
    commit: 65b2c82a5ed4e15ce5ca03ba0aa17e4d1209b6b7
  test-conda-python-3.9-spark-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.9-spark-master
    commit: ce1c081c4917c796f55ee3d06ef8979cb740126f
  test-conda-python-3.7-hdfs-2.9.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-hdfs-2.9.2
    commit: 59412813429d524897ac9c38e6d6e70c956ba4e4
  test-debian-10-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '10'
      image: debian-cpp

    branch: nightly-tests-2022-06-23-0-github-test-debian-10-cpp-amd64
    commit: 6a0d16f06b8094737547c266c7fa3b1217e64a48
  example-cpp-minimal-build-static-system-dependency: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency
    branch: nightly-tests-2022-06-23-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 04e45ce234ae33d21178664d231cfd8af09d4354
  test-ubuntu-20.04-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2022-06-23-0-azure-test-ubuntu-20.04-python-3
    commit: 403abf177cfe959d65714c0d844383a798251029
  test-conda-python-3.10: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.10
    commit: d7d74a5130c13f08504129cab722cd18603e2910
  test-ubuntu-20.04-cpp-bundled: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-20.04-cpp-bundled
    commit: aa261c31a6b759fcc04ab6e2563439a2733fd69e
  test-conda-python-3.7-kartothek-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: latest
      flags: --no-leaf-cache
      image: conda-python-kartothek
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-kartothek-latest
    commit: 30870751f396f619432df853cec2b22cdc5a82a3
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-r-install-local
    commit: 0ffe4a5f1f0f210d1ad46fcc4261a40c0803df5c
  test-conda-python-3.9-dask-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: master
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

# Turbodbc is currently failing to build. See:
# https://issues.apache.org/jira/browse/ARROW-15997
# #   test-conda-python-3.7-turbodbc-latest:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: latest
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# #   test-conda-python-3.7-turbodbc-master:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: master
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# 
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.9-dask-master
    commit: d9aaa2476bcb160720ee5d7b73f69e2af82e7d81
  test-conda-python-3.7-pandas-0.24: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: '0.24'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-pandas-0.24
    commit: 0899e08dbcc55260fff4b7c40bf1b6767a384952
  test-debian-11-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2022-06-23-0-github-test-debian-11-cpp-i386
    commit: 60a886c9309c624b4636118dd1d1995bfac530e1
  test-build-cpp-fuzz: !Task
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-build-cpp-fuzz
    commit: 04a0407dc64c24563d9b260c56fe40d97c02d2f6
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2022-06-23-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: 627f4c0cae7ad207a4a3ae6249a33d08bed8fd93
  test-skyhook-integration: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-23-0-github-test-skyhook-integration
    commit: ca863fe7f090875ad42e04b05596de5a917c6aed
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2022-06-23-0-github-test-r-versions
    commit: 47afb1ea395f23ccbf51217347c0754c1c9762f3
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2022-06-23-0-azure-test-fedora-r-clang-sanitizer
    commit: 9e83798c57ccb1789d6751515b163c80e4a46c4d
  test-ubuntu-18.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '18.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-18.04-cpp
    commit: b7acd0a7bce8448ddb5ca1838a048c8e70d1231b
  example-cpp-minimal-build-static: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2022-06-23-0-github-example-cpp-minimal-build-static
    commit: 28860fab098a7b081c22882d6685cd3ca139895e
  test-ubuntu-18.04-cpp-release: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_TYPE=release
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-18.04-cpp-release
    commit: f5bd3fffe76fe47e8a08d2b7d1f5d0db44577eea
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2022-06-23-0-azure-test-r-depsource-bundled
    commit: 6c3b3187d1c9e3ef4d8b747b073b1018c6a2ac3e
  test-ubuntu-20.04-cpp-17: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=17
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-20.04-cpp-17
    commit: 67707f8e8274ed2e228f375c9f8e32f1816b4bdb
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2022-06-23-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: 72780f79a8def0cb1ffd3bd4de24a2dc15387756
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-23-0-github-test-r-gcc-11
    commit: 205be5496501a00ab8ae11e3eb2a1e0b7bad1bbc
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2022-06-23-0-azure-test-r-minimal-build
    commit: 2d99259ec015a1f8d5c2e02d2147467a83b1f9b0
  test-conda-python-3.7-kartothek-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: master
      flags: --no-leaf-cache
      image: conda-python-kartothek

    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7-kartothek-master
    commit: c98fddf882e8b38d55221ae2e3904c371da91417
  test-r-dev-duckdb: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-06-23-0-github-test-r-dev-duckdb
    commit: 9d0237fc813d2487d7b0696e99445ed8e8ec2d3a
  test-conda-python-3.8-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.8-pandas-latest
    commit: eccf8cd34f1e145ebe53a229a4df494f42adcab7
  example-python-minimal-build-ubuntu-venv: !Task
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################## Conda Linux ############################

    branch: nightly-tests-2022-06-23-0-github-example-python-minimal-build-ubuntu-venv
    commit: 5b019c8e0549ceecf2824356725c7c55ed5bd17e
  test-debian-10-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '10'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp
    branch: nightly-tests-2022-06-23-0-github-test-debian-10-cpp-i386
    commit: c89dbf69014c01fc8319cd6e5fffa42d3d34c1b4
  test-conda-python-3.8-spark-v3.2.0: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.2.0
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.8-spark-v3.2.0
    commit: e2bc458b698e6b971680c6cca9e246b6a48025d2
  test-ubuntu-18.04-cpp-static: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_SHARED=OFF -e ARROW_BUILD_STATIC=ON -e ARROW_TEST_LINKAGE=static
      image: ubuntu-cpp

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-18.04-cpp-static
    commit: 4c792b87573511596be9b0560152e73e6c38b668
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-r-linux-rchk
    commit: c291d7d9e0409f4b86be7e29555db8ef36363770
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2022-06-23-0-azure-test-r-offline-minimal
    commit: 05762f7446eff11251e9b646d9e6fada34c22bb5
  test-debian-11-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2022-06-23-0-github-test-debian-11-cpp-amd64
    commit: 1e475a5adaf607700e5d1f8eafdf2d9017ecbaed
  test-conda-python-3.7: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
      image: conda-python
    branch: nightly-tests-2022-06-23-0-github-test-conda-python-3.7
    commit: bd9de3233aa54e1cb59759d8ada973433c9e6043
  test-r-ubuntu-22.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-06-23-0-github-test-r-ubuntu-22.04
    commit: d2b3c5392453d188a94430a0574ccfc229458530
  test-r-rstudio-r-base-4.2-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2022-06-23-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: fdc8dd9cd9ebada5b56624cf0df9b5a8a05c5202
  test-fedora-35-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-cpp

    branch: nightly-tests-2022-06-23-0-github-test-fedora-35-cpp
    commit: c4ff8669f78a042de800257a7623f999860e097f
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2022-06-23-0-azure-test-r-rocker-r-base-latest
    commit: 35441716a50fc8608c57e3541bf16f6b9c78dc54
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-06-23-0-github-test-r-arrow-backwards-compatibility
    commit: 501649cdf3a6495fc8f49ce045e3cf1888e54d7b
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 802bfc5c193456ff8462d3b79ee297fa8fa02bd2
  test-ubuntu-20.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-06-23-0-github-test-ubuntu-20.04-cpp
    commit: eec50e3f4e6fa8cfcffddaf0ab0dfeba2a14d116
params: {}
branch: nightly-tests-2022-06-23-0
